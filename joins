const mysql=require('mysql');
const conn=mysql.createConnection({
    host:'localhost',
    user:'root',
    password:'rootpassword',
    database:'sqlbasics'
})
conn.connect(function(err){
    if(err)throw err;
    console.log("connected");
var sql="CREATE TABLE users (name VARCHAR(255), favorite_product INT(5))";
conn.query(sql,function(err,result){
    if(err) return err;
    console.log("Table created")
})
var sql="ALTER TABLE users ADD COLUMN id INT AUTO_INCREMENT PRIMARY KEY ";
conn.query(sql,function(err,result){
    if(err) return err;
    console.log("Table Altered");
})
var sql="INSERT INTO users (name,favorite_product) VALUES  ?";
var values=[
    ['John', 154],
  [ 'Peter',154],
  ['Amy', 155],
   ['Hannah', 156],
  [  'Michael', 157]

];
conn.query(sql,[values],function(err,result){
        if(err) throw err;
        console.log("Number of records inserted"+result.affectedRows);
      console.log(result.affectedRows);

})
conn.query("SELECT * FROM users", function (err, result, fields) {
    if (err) throw err;
    console.log(result);
});
});